{% extends 'BWSkeletonBundle:Backend:layout.html.twig' %}

{% block title %}Список статей{% endblock %}

{% block content_wrap -%}
    <h1><i class="fa fa-list-alt"></i> Список статей</h1>

    <ul class="list-inline controls">
        <li>
            <a class="btn btn-success fas fa-plus" href="{{ path('post_new') }}">
                Создать
            </a>
        </li>
    </ul>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Заголовок</th>
                <th>Синоним URL</th>
                <th>Категория</th>
                <th>Опубликовано</th>
                <th>Главная</th>
                <th>Создано</th>
                <th>Обновлено</th>
                <th>Порядок</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td>{{ entity.id }}</td>
                <td>
                    <a href="{{ path('post_edit', { 'id': entity.id }) }}" title="Редактировать запись">
                        {{ entity.heading ? entity.heading : '< no heading >' }}
                    </a><br/>
                    <a href="{{ app.request.getUriForPath(entity.route.path) }}" title="Перейти по адресу">
                        <small class="fa fa-share-square-o" title="Перейти на страницу">
                            {{ entity.route.path }}
                        </small>
                    </a>
                </td>
                <td>{{ entity.slug }}</td>
                <td>
                    {% if entity.category %}
                        <a href="{{ path('category_edit', {'id': entity.category.id}) }}" title="Редактировать запись">
                            {{ entity.category.heading }}
                        </a>
                    {% else %}
                        {{ '< Без категории >' }}
                    {% endif %}
                </td>
                <td><span class="{{ entity.published ? 'fa fa-check-square-o' : 'fa fa-square-o' }}"></span></td>
                <td><span class="{{ entity.home ? 'fa fa-check-square-o' : 'fa fa-square-o' }}"></span></td>
                <td>
                    {% if entity.created %}
                        <abbr title="{{ entity.created|date('Создано в H:i:s') }}">
                            {{ entity.created|date('d/m/Y') }}
                        </abbr>
                    {% endif %}
                </td>
                <td>
                    {% if entity.updated %}
                        <abbr title="{{ entity.updated|date('Обновлено в H:i:s') }}">
                            {{ entity.updated|date('d/m/Y') }}
                        </abbr>
                    {% endif %}
                </td>
                <td>{{ entity.order }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
